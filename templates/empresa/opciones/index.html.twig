{% extends 'empresa/base.html.twig' %}

{% block title %}Opciones{% endblock %}

{% block css %}
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('css/empresa/general.css') }}">
	<link rel="stylesheet" href="{{ asset('css/empresa/menu/menu.css') }}">
    <link rel="stylesheet" href="{{ asset('css/empresa/opciones/Opciones.css') }}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="{{ asset('css/empresa/opciones/general.css') }}">
    <link rel="stylesheet" href="{{ asset('css/empresa/opciones/Personal.css') }}">
     <link rel="stylesheet" href="{{ asset('css/empresa/opciones/Sistema.css') }}">
         <link rel="stylesheet" href="{{ asset('css/empresa/Menu/Menu.css') }}"> }}">
    <link rel="stylesheet" href="{{ asset('css/empresa/Menu/Menu.css') }}">
{% endblock %}


{% block body_sidebar %}
<section class="tabs-wrapper">
    <div class="tabs-container">
        <div class="tabs-block">
           <div class="tabs">
                <input type="radio" name="tabs" id="tab1" checked="checked" />
                <label for="tab1"> Empresa </label>
                <div class="tab tab-content">
                        <div class="conte1">
                            <div class="col-md-5 d-flex justify-content-center align-items-center min-vh-40">
                                <img class="Img_empresa" src="{{ asset('images.jpg') }}">
                            </div>
                            <div class="col-md-7">
                                <div class="justify-content-center align-items-center min-vh-40" >
                                        <div class="form-row d-flex " style="align-items: center; ">
                                            <p class="Plbra3">Ruc:</p>
                                            <input type="text" class="inputContainer1 " value="Videojuegos" readonly>
                                            <button class="img_ico">
                                                <img src="{{ asset('editar.png') }}" alt="Editar">
                                            </button>
                                        </div>
                                        <br>
                                        <div class="form-row d-flex " style="align-items: center; ">
                                            <p class="Plbra3">Razon social :</p>
                                            <input type="text" class="inputContainer1 " value="Videojuegos" readonly>
                                            <button class="img_ico">
                                                <img src="{{ asset('editar.png') }}" alt="Editar">
                                            </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                            <span class="Ttl1">SUCURSALES</span>
                            <div class="linea-azul"></div>
                            <div class="container_direc">
                                <table id="tablaSedes">
                                    <thead>
                                        <tr>
                                        <th class="Azul-prin">Sede</th>
                                        <th class="plomo">Dirección</th>
                                        <th>Opciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbodySedes"></tbody>
                                </table>
                                <button class="Btn1" onclick="mostrarPopup()">+ AGREGAR</button>
                            </div>

                        <div class="overlay" id="overlay"></div>
                            <div class="popup" id="popup">
                                <button class="close" onclick="cerrarPopup()">x</button>
                                <div id="direccionDiv" style="justify-content: center; align-items: center;">
                                    <div class="form-row d-flex input-amarillo justify-content-center align-items-center">
                                                <p class="Plbra3 " for="direccionInput" >UBICACION</p>
                                                <input type="text" id="direccionInput" placeholder="Dirección" class="inputContainer1 " style="width: 250px; margin-right: 30px;">
                                                <button class="img_ico" style="20px">
                                                    <img class="icono" src="{{ asset('lupa.png') }}" alt="Buscar" style="cursor: pointer;" onclick="buscarDireccion()">
                                                </button>
                                    </div>
                                
                                    <div class="form-row d-flex justify-content-center align-items-center min-vh-40">
                                        <div id="mapa" class="col-md-7" style="padding=20px;"></div>
                                            <div class="col-md-5 justify-content-center align-items" style="padding=20px; height=100px">
                                                <div class="linea_separadora"></div>
                                                    <div class="form-row d-flex justify-content-center align-items-center min-vh-40">
                                                    <div style="float: left;" id="Nom_Empresa">
                                                    <div for="nombreEmpresa" id="Nom_Empresa" class="Plbra3" style="width:200px">Nombre de la Empresa:</div>
                                                    <input type="text" id="nombreEmpresa" placeholder="Nombre de la Empresa" class="inputContainer1 ">
                                                    <button class="Btn2" onclick="guardarSede()">Guardar</button>
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                </div>

                <input type="radio" name="tabs" id="tab2" />
                <label for="tab2">Personal</label>
                			<div class="tab tab-content">
								<div class="contenedor">
								<div class="area">
									<div class="Ttl1">AREA Y PUESTO</div>
									<div class="linea-azul"></div>
									<div class="row Cont-formulario" style = "padding: 20px 0px">
										<div class="col-md-6 " >
											<div class="conten ">
												<div class="Plbra2" for="direccionInput">Area </div>
												<input type="text" id="textoArea" placeholder="Dirección" class="input-linea2">
											</div>
											<button id="agregarBoton" class="Btn2">Agregar</button>
										</div>
										<div class="col-md-6 d-flex justify-content-center align-items-center min-vh-40">
											<div class=" div-container" id="textoGuardado"></div>
										</div>
									</div>
								</div>
	
									<div class="row Cont-formulario" style = "padding: 20px 0px">
											<div class="col-md-6 ">
												<div class="conten">
													<div class="Plbra2" for="direccionInput">Area </div>
													<select id="selectOpciones">
														<option value="">Selecciona una opción</option>
													</select>
												</div>
												<div class="conten" style = "padding: 20px 0px">
													<div class="Plbra2" for="direccionInput">Puesto </div>
													<input class="input-linea2" type="text" id="inputPuesto" placeholder="Escribe el puesto...">
												</div>
												<button class="Btn2" id="guardarPuesto">Agregar</button>
											</div>
											<div class="col-md-6 d-flex justify-content-center align-items-center min-vh-40">
												<div class="div-container" id="puestosGuardados"></div>
											</div>
										</div>
										<button class="Btn2" id="guardarPuesto">Guardar</button>
									<div class="Ttl1"> PERMISOS</div>
									<div class="linea-azul"></div >
										<div class="row Cont-formulario" style = "padding: 20px 0px">
											<div class="col-md-6 d-flex justify-content-center align-items-center min-vh-40 ">
												<div class="div-container" id="nuevoTextoGuardado"></div>
											</div>

											<div class="col-md-6  ">
												<div class="conten ">
													<div class="Plbra2 " for="direccionInput">Area </div>
													<input type="text" id="textoArea1" placeholder="Dirección" class="input-linea2">
												</div>
												<button id="nuevoBoton" class="Btn2">Agregar</button>
											</div>
											
										</div>	
									<div class="Ttl1"> ASISTENCIA </div>
									<div class="linea-azul"></div>
									<div class="row Cont-formulario" style="padding:20px">

										<div class="col-md-6">
											<div class="conten-asis">
												<div class="d-flex Plbra_xtr align-items-center" style="margin:15px; eight:28px;">
                                                    <p class="Plbra3 col-4" style="display: flex; font-size: 14px ; ">Tmp. de falta</p> 
                                                    <input type="number" class="imput1 col-4" min="1" max="8" style="margin:2px 5px; height:20px;"> horas 
                                                </div>
												<div class="d-flex Plbra_xtr align-items-center"  style="margin:15px ; height:28px;">
                                                    <p class="Plbra3 col-4" style="display: flex; font-size: 14px ">Tolerancia de ingreso</p> 
                                                    <input class="imput1 col-4" type="number" min="10" max="120" style="margin:2px 5px; height:20px;"> min. 
                                                </div>
												<div class="d-flex Plbra_xtr align-items-center" style="margin:15px; height:28px;">
                                                    <p class="Plbra3 col-4" style="display: flex; font-size: 14px ">Permitir foto</p> 
                                                    <input type="checkbox" class="input_xtr col-4"> si 
                                                    <input type="checkbox" class="input_xtr col-4"> no 
                                                </div>
												
											</div>
											<button id="nuevoBoton" class="Btn2">Agregar</button>
										</div>
										<div class="col-md-6">
											<div class="conten" style="padding:10px">
												<div class="Plbra Horas_ext" for=> Permitir horas extra</div>
												<select id="selectOpciones" class="input_xtr">
													<option value="">Selecciona una opción</option>
												</select>
												
											</div>
											<button id="nuevoBoton" class="Btn2">Guardar</button>
                                            <div class="d-flex justify-content-center align-items-center min-vh-40">
											    <div class="div-container" id="nuevoTextoGuardado"></div>
                                            </div>
										</div>

										
										
									</div>	
							  	</div>
                            </div>
                

                <input type="radio" name="tabs" id="tab3" />
                <label for="tab3">Sistema</label>
                <div class="tab tab-content ">
                    <div class="notificaciones">
									<div class="Ttl1"> NOTIFICACIONES</div>
									<div class="linea-azul"></div >
									<div class="opcion">
									  
									  <div class="Plbra2" style="padding:20px"><input type="checkbox" id="faltasTardanzas" style="position: relative; right:5px">Envío por correo de faltas y tardanzas diaria</div>
									</div>
									<div class="opcion">
									  
									  <div class="Plbra2" style="padding:20px"><input type="checkbox" id="faltasTardanzas" style="position: relative; right:5px">Envío al colaborador por correo de permisos creados </div>
									</div>
									<div class="opcion">
									  
									  <div class="Plbra2" style="padding:20px"><input type="checkbox" id="faltasTardanzas" style="position: relative; right:5px">Envío al colaborador por correo de vacaciones creadas</div>
									</div>
									<div class="opcion">
									  
									  <div class="Plbra2" style="padding:20px"><input type="checkbox" id="faltasTardanzas" style="position: relative; right:5px">Envío al colaborador por correo el registro de su marcación de asistencia</div>
									</div>
									<button class="Btn2">Guardar</button>
								  </div>
								  <div class="Ttl1"> HORARIO</div>
									<div class="linea-azul"></div >
										<div class="Plbra2 Plbra_xtr"><p class="Plbra3 col-4" style="display: flex; font-size: 14px ">Area </p> <input type="checkbox" class="input_xtr"> si <input type="checkbox" class="input_xtr"> no </div>
										<div class="Plbra2 Plbra_xtr"><p class="Plbra3 col-4" style="display: flex; font-size: 14px ">Puesto</p> <input type="checkbox" class="input_xtr"> si <input type="checkbox" class="input_xtr"> no </div>
										<div class="Plbra2 Plbra_xtr"><p class="Plbra3 col-4" style="display: flex; font-size: 14px ">Modalidad de trabajo total</p> <input type="checkbox" class="input_xtr"> presencial <input type="checkbox" class="input_xtr"> remoto </div>
										<div class="Plbra2 Plbra_xtr"><p class="Plbra3 col-4" style="display: flex; font-size: 14px ">Predeterminar horario</p> <input type="checkbox" class="input_xtr"> si <input type="checkbox" class="input_xtr"> no </div>
									<button class="Btn2">Guardar</button>
                            </div>

                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}


{% block javascripts %}
    <script>
        // Función para mostrar el modal
        function mostrarPopup() {
            document.getElementById("overlay").style.display = "block";
            document.getElementById("popup").style.display = "block";
            
            // Inicializar el mapa
            var mapa = new google.maps.Map(document.getElementById('mapa'), {
                center: {lat: -34.397, lng: 150.644}, // Coordenadas de ejemplo (Sydney, Australia)
                zoom: 8
            });
        }

        // Función para cerrar el modal y borrar los datos
        function cerrarPopup() {
            document.getElementById("overlay").style.display = "none";
            document.getElementById("popup").style.display = "none";
            document.getElementById("nombreEmpresa").value = ""; // Restablecer el valor del campo de nombre de empresa
        }

        // Función para buscar la dirección en el mapa
        function buscarDireccion() {
            // Aquí puedes agregar la lógica para buscar la dirección en el mapa
            console.log("Buscar dirección en el mapa");
        }

        // Función para guardar la sede en la tabla
        function guardarSede() {
            var sede = document.getElementById("nombreEmpresa").value;
            var tablaSedes = document.getElementById("tablaSedes");
            var tbodySedes = document.getElementById("tbodySedes");

            // Obtener la dirección del campo oculto
            var direccion = document.getElementById("direccionInput").value;

            // Crear una nueva fila en la tabla
            var nuevaFila = document.createElement("tr");

            // Crear y agregar las celdas de la fila
            var sedeCell = document.createElement("td");
            sedeCell.textContent = sede;
            sedeCell.classList.add("sede"); // Agregar la clase para el color
            nuevaFila.appendChild(sedeCell);

            var direccionCell = document.createElement("td");
            direccionCell.textContent = direccion;
            direccionCell.classList.add("direccion"); // Agregar la clase para el color
            nuevaFila.appendChild(direccionCell);

            var opcionesCell = document.createElement("td");
            opcionesCell.classList.add("opciones"); // Agregar la clase para el espacio entre opciones

            var editarIcono = document.createElement("img");
            editarIcono.src = "editar.png";
            editarIcono.alt = "Editar";
            editarIcono.classList.add("icono"); // Agregar la clase para el tamaño del icono
            opcionesCell.appendChild(editarIcono);

            var guardarIcono = document.createElement("img");
            guardarIcono.src = "guardar.png";
            guardarIcono.alt = "Guardar";
            guardarIcono.classList.add("icono"); // Agregar la clase para el tamaño del icono
            opcionesCell.appendChild(guardarIcono);

            nuevaFila.appendChild(opcionesCell);

            // Agregar la fila al cuerpo de la tabla
            tbodySedes.appendChild(nuevaFila);

            // Cerrar la ventana emergente y borrar los datos
            cerrarPopup();
        }
    </script>
{% endblock %}